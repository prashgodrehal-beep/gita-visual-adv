@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-surface-900 text-parchment-200 font-body;
    background-image:
      radial-gradient(ellipse at 20% 0%, rgba(240,112,2,0.06) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, rgba(212,123,52,0.04) 0%, transparent 50%);
    min-height: 100vh;
  }

  ::selection {
    @apply bg-saffron-600/30 text-saffron-100;
  }
}

@layer components {
  .card-surface {
    @apply bg-surface-700/90 rounded-xl border border-surface-400/80
           hover:border-saffron-600/25 hover:bg-surface-600/60
           transition-all duration-300 ease-out;
    transform: translateY(0);
  }
  .card-surface:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 24px -8px rgba(240,112,2,0.10);
  }

  .template-normal {
    @apply bg-surface-700/70 border-surface-400/60;
  }

  .template-accent {
    @apply bg-saffron-600/10 border border-saffron-600/25;
  }

  .glow-line {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(240,112,2,0.25), transparent);
  }

  .verse-card {
    @apply pl-5 py-4 border-l-2 border-saffron-600/20;
  }

  .scripture-panel {
    @apply bg-surface-800/95 border-l border-surface-400;
    backdrop-filter: blur(12px);
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

@layer utilities {
  /* Entrance Animations */
  .slide-up {
    animation: slideUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    opacity: 0;
    transform: translateY(12px);
  }
  @keyframes slideUp {
    to { opacity: 1; transform: translateY(0); }
  }

  .slide-in-left {
    animation: slideInLeft 0.45s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    opacity: 0;
    transform: translateX(-10px);
  }
  @keyframes slideInLeft {
    to { opacity: 1; transform: translateX(0); }
  }

  .scale-in {
    animation: scaleIn 0.45s cubic-bezier(0.22, 1, 0.36, 1) forwards;
    opacity: 0;
    transform: scale(0.95);
  }
  @keyframes scaleIn {
    to { opacity: 1; transform: scale(1); }
  }

  /* Subtle accent pulse */
  .pulse-glow {
    animation: pulseGlow 4s ease-in-out infinite;
  }
  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 0 0 rgba(240,112,2,0); }
    50% { box-shadow: 0 0 20px -6px rgba(240,112,2,0.12); }
  }
}

/* Custom scrollbar for desktop */
@media (min-width: 768px) {
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(240,112,2,0.15); border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: rgba(240,112,2,0.25); }
}

/* ═══════════════════════════════════════════════════════════════
   SVG VISUAL TEMPLATE ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

/* Cycle Template */
.cycle-wheel {
  filter: drop-shadow(0 0 30px rgba(240,112,2,0.06));
}

.cycle-orbit {
  animation: cycleOrbitSpin 25s linear infinite;
  transform-origin: center;
}
@keyframes cycleOrbitSpin {
  to { transform: rotate(360deg); }
}

.cycle-center-glow {
  animation: cycleCenterPulse 4s ease-in-out infinite;
}
@keyframes cycleCenterPulse {
  0%, 100% { opacity: 0.6; r: 60; }
  50% { opacity: 1; r: 70; }
}

.cycle-center-text {
  font-family: 'EB Garamond', 'Cormorant Garamond', Georgia, serif;
}

.cycle-flow-dash {
  animation: cycleDashFlow 3s linear infinite;
}
@keyframes cycleDashFlow {
  to { stroke-dashoffset: -42; }
}

.cycle-node {
  opacity: 0;
  animation: cycleNodeAppear 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
@keyframes cycleNodeAppear {
  from { opacity: 0; transform: scale(0.7); }
  to { opacity: 1; transform: scale(1); }
}

.cycle-arrow {
  opacity: 0;
  animation: cycleArrowFade 0.5s ease forwards;
}
@keyframes cycleArrowFade {
  to { opacity: 1; }
}

/* Radial Template */
.radial-petal {
  opacity: 0;
  animation: radialPetalBloom 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
@keyframes radialPetalBloom {
  from { opacity: 0; transform: scale(0.5); }
  to { opacity: 1; transform: scale(1); }
}

.radial-ring {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  animation: radialRingDraw 2s ease forwards;
}
@keyframes radialRingDraw {
  to { stroke-dashoffset: 0; }
}

.radial-connector {
  opacity: 0;
  animation: radialConnectorFade 0.4s ease forwards;
}
@keyframes radialConnectorFade {
  to { opacity: 1; }
}

/* Hierarchy Template */
.hierarchy-level {
  opacity: 0;
  animation: hierarchyLevelReveal 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}
@keyframes hierarchyLevelReveal {
  from { opacity: 0; transform: translateY(15px) scaleX(0.85); }
  to { opacity: 1; transform: translateY(0) scaleX(1); }
}
